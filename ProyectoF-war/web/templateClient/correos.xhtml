<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="primefaces"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <body>

        <ui:composition template="/template/menu.xhtml">

            <ui:define name="content">
                <div class="title-container">
                    <h1 class="correo-title">Solicitudes de correos</h1>
                </div>
                <div class="card">
                    <!-- Row for Search Fields, DatePicker, SelectOneMenu, and Dialog Button -->
                    <div class="p-grid" style="display: flex; align-items: center; gap: 20px;">
                        <!-- Search 1 -->
                        <div class="p-col" style="flex: 1;">
                            <div class="ui-inputgroup">
                                <p:inputText placeholder="Search 1" style="width: 100%;" />
                                <p:commandButton icon="pi pi-search" styleClass="ui-button-warning" />
                            </div>
                        </div>

                        <!-- DatePicker -->
                        <div class="p-col" style="flex: 1;">
                            <div class="field">
                                <p:datePicker id="button" value="#{calendarView.date7}" showIcon="true" showOnFocus="false" style="width: 100%;" />
                            </div>
                        </div>

                        <!-- SelectOneMenu -->
                        <div class="p-col" style="flex: 1;">
                            <div class="field">
                                <p:selectOneMenu id="hideNoselectionOption" value="#{selectOneMenuView.hideNoSelectOption}"
                                                 hideNoSelectionOption="#{not empty selectOneMenuView.hideNoSelectOption}" style="width: 100%;">
                                    <p:ajax update="@this" process="@this" />
                                    <f:selectItem itemLabel="Todo los usuarios" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItem itemLabel="Option1" itemValue="Option1" />
                                    <f:selectItem itemLabel="Option2" itemValue="Option2" />
                                    <f:selectItem itemLabel="Option3" itemValue="Option3" />
                                </p:selectOneMenu>
                            </div>
                        </div>

                        <!-- Button to open the dialog -->
                        <div class="p-col" style="flex: 1; text-align: right;">
                            <p:commandButton value="Registrar" onclick="PF('productDialog').show()" styleClass="ui-button-primary" />
                        </div>
                    </div>

                    <!-- Dialog -->
                    <p:dialog header="INFORMACIÃ“N DEL CORREO" widgetVar="productDialog" modal="true" showEffect="fade"
                              hideEffect="fade" resizable="false">
                        <p:outputPanel id="productDetail" style="text-align:center;">
                            <div class="card">
                                <div class="container" style="display: flex; height: 450px;">
                                    <div class="panel" style="width: 450px; flex: 1; display: flex; flex-direction: column; align-items: start; justify-content: left; background-color: white;">

                                        <div class="p-col" style="flex: 1; display: flex; align-items: start;">
                                            <p:outputLabel for="basic" value="Fecha: " />
                                            <p:datePicker id="basic" value="#{calendarView.date}" style="margin-left: 10px;" />
                                        </div>

                                        <div class="p-col" style="flex: 1; display: flex; align-items: start; margin-top: 10px;">
                                            <p:outputLabel for="timeonlyMinMax" value="Hora: " />
                                            <p:datePicker id="timeonlyMinMax" value="#{calendarView.date15}" timeOnly="true" pattern="HH:mm"
                                                          mindate="#{calendarView.minTime}" maxdate="#{calendarView.maxTime}" style="margin-left: 10px;" />
                                        </div>

                                        <div class="p-col" style="flex: 1; display: flex; align-items: start; margin-top: 10px;">
                                            <p:outputLabel for="line" value="Plataforma:" />
                                            <p:selectOneRadio id="line" value="#{radioView.line}" layout="lineDirection" style="margin-left: 10px;">
                                                <f:selectItem itemLabel="SIMCA" itemValue="SIMCA"/>
                                                <f:selectItem itemLabel="SEID" itemValue="SEID"/>
                                            </p:selectOneRadio>
                                        </div>

                                        <div class="p-col" style="flex: 1; display: flex; align-items: start; margin-top: 10px;">
                                            <p:outputLabel for="municipio" value="Municipio: "/>
                                            <p:selectOneMenu id="municipio" value="#{selectOneMenuView.selectedMunicipio}" style="margin-left: 10px;">
                                                <f:selectItem itemLabel="Selecciona un Municipio" itemValue=""/>
                                                <f:selectItem itemLabel="Option1" itemValue="Option1"/>
                                                <f:selectItem itemLabel="Option2" itemValue="Option2"/>
                                                <f:selectItem itemLabel="Option3" itemValue="Option3"/>
                                            </p:selectOneMenu>
                                        </div>

                                        <div class="p-col" style="flex: 1; display: flex; align-items: start; margin-top: 10px;">
                                            <p:outputLabel for="correo" value="Correo: "/>
                                            <p:selectOneMenu id="correo" value="#{selectOneMenuView.selectedCorreo}" style="margin-left: 10px;">
                                                <f:selectItem itemLabel="Selecciona un correo" itemValue=""/>
                                                <f:selectItem itemLabel="Option1" itemValue="Option1"/>
                                                <f:selectItem itemLabel="Option2" itemValue="Option2"/>
                                                <f:selectItem itemLabel="Option3" itemValue="Option3"/>
                                            </p:selectOneMenu>
                                        </div>

                                        <div class="p-col" style="flex: 1; display: flex; align-items: start; margin-top: 10px;">
                                            <p:outputLabel for="responsable" value="Responsable: "/>
                                            <p:selectOneMenu id="responsable" value="#{selectOneMenuView.selectedResponsable}" style="margin-left: 10px;">
                                                <f:selectItem itemLabel="Selecciona un usuario" itemValue=""/>
                                                <f:selectItem itemLabel="Option1" itemValue="Option1"/>
                                                <f:selectItem itemLabel="Option2" itemValue="Option2"/>
                                                <f:selectItem itemLabel="Option3" itemValue="Option3"/>
                                            </p:selectOneMenu>
                                        </div>

                                        <p:outputLabel for="asunto" value="Asunto:" />
                                        <div class="p-col" style="flex: 1; display: flex; align-items: start; margin-top: 5px;">
                                            <p:inputTextarea id="asunto" rows="6" cols="33" />
                                        </div>
                                    </div>

                                    <div class="panel" style="width: 450px; flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; background-color: white;">
                                        <div style="display: flex; align-items: center; justify-content: flex-start; gap: 5px;">
                                            <p:fileUpload value="#{fileUploadView.file}" mode="simple" skinSimple="true" />
                                            <p:commandButton value="Submit" ajax="false" action="#{fileUploadView.upload}" styleClass="mt-3 ui-button-outlined block" />
                                        </div>
                                        <p:media value="/resources/pdf/oficio1-7.pdf" width="450px" height="400px" style="margin-top: 10px;">
                                            Your browser can't display pdf, <h:outputLink value="#{request.contextPath}/resources/demo/media/guide.pdf">click</h:outputLink> to download pdf instead.
                                        </p:media>
                                    </div>
                                </div>
                            </div>
                            <div style="text-align: right; margin-top: 10px;">
                                <p:button value="Submit" icon="pi pi-check" />
                            </div>
                        </p:outputPanel>
                    </p:dialog>

                </div>

                <div class="card">
                    <h5 class="first">Header Row</h5>
                    <h:form>
                        <p:dataTable var="customer" value="#{dtRowGroupView.customers}" sortBy="#{customer.representative.name}">
                            <p:headerRow field="representative.name"
                                         expandable="true"
                                         expanded="#{customer.representative.name != 'Stephen Shaw'}">

                                <p:column colspan="6">
                                    <div class="inline-flex align-items-center" style="vertical-align: middle">
                                        <p:graphicImage name="images/avatar/#{customer.representative.image}" library="demo" width="32" style="vertical-align: middle"/>
                                        <h:outputText styleClass="ml-2" value="#{customer.representative.name}"/>
                                    </div>
                                </p:column>
                            </p:headerRow>

                            <p:column headerText="Representative">
                                <h:outputText value="#{customer.representative.name}" />
                            </p:column>

                            <p:column headerText="Name">
                                <h:outputText value="#{customer.name}" />
                            </p:column>

                            <p:column headerText="Country">
                                <span class="flag flag-#{customer.country.code}" style="width: 30px; height: 20px"/>
                                <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{customer.country}"/>
                            </p:column>

                            <p:column headerText="Company">
                                <h:outputText value="#{customer.company}" />
                            </p:column>

                            <p:column headerText="Status">
                                <span class="customer-badge status-#{customer.status.name().toLowerCase()}">#{customer.status}</span>
                            </p:column>

                            <p:column headerText="Date">
                                <h:outputText value="#{customer.date}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" type="localDate"/>
                                </h:outputText>
                            </p:column>

                            <p:summaryRow>
                                <p:column colspan="5" style="text-align:right">
                                    <h:outputText value="Total Customers:"/>
                                </p:column>
                                <p:column>
                                    <h:outputText value="#{dtRowGroupView.getTotalCount(customer.representative.name)}"/>
                                </p:column>
                            </p:summaryRow>
                        </p:dataTable>
                    </h:form>
                </div>

            </ui:define>

        </ui:composition>

    </body>
</html>
